# å¯¦ç¾ç¸½çµï¼šçµ±ä¸€å‘½ä»¤èˆ‡ç›®éŒ„é‡çµ„

## âœ… å®ŒæˆåŠŸèƒ½

### 1. è‡ªå‹•æ§‹å»º Dashboard (`uv run build-dashboard`)

**å¯¦ç¾æ–‡ä»¶**: `scripts/build_dashboard.py`

**åŠŸèƒ½**:
- âœ… è‡ªå‹•æª¢æ¸¬ Node.js å’Œ npm æ˜¯å¦å®‰è£
- âœ… è‡ªå‹•å®‰è£å‰ç«¯ä¾è³´ï¼ˆå¦‚æœéœ€è¦ï¼‰
- âœ… æ§‹å»º Dashboard å‰ç«¯è³‡æº
- âœ… é¡¯ç¤ºæ§‹å»ºé€²åº¦å’Œçµæœ
- âœ… éŒ¯èª¤è™•ç†å’Œå‹å¥½æç¤º

**ä½¿ç”¨æ–¹æ³•**:
```bash
uv run build-dashboard
```

**æ§‹å»ºç”¢ç‰©**:
- ä½ç½®ï¼š`dashboard/static/dist/`
- å¤§å°ï¼šç´„ 150KBï¼ˆæœªå£“ç¸®ï¼‰
- åŒ…å«ï¼šHTMLã€CSSã€JavaScriptã€å­—é«”æ–‡ä»¶

---

### 2. çµ±ä¸€ä¸»å…¥å£ (`app.py`)

**å¯¦ç¾æ–‡ä»¶**: `app.py`

**åŠŸèƒ½**:
- âœ… é‹è¡Œä¸‹è¼‰å™¨ï¼ˆç­‰åŒæ–¼ `ani_gamer_next.py`ï¼‰
- âœ… å•Ÿå‹• Dashboard Web ä»‹é¢
- âœ… æ”¯æ´è‡ªè¨‚ç«¯å£å’Œç›£è½åœ°å€
- âœ… æ”¯æ´é–‹ç™¼æ¨¡å¼ï¼ˆVite HMRï¼‰
- âœ… å®Œæ•´çš„åƒæ•¸èªªæ˜

**ä½¿ç”¨æ–¹æ³•**:

```bash
# é‹è¡Œä¸‹è¼‰å™¨ï¼ˆé»˜èªè¡Œç‚ºï¼‰
uv run app.py

# å•Ÿå‹• Dashboard
uv run app.py --dashboard

# è‡ªè¨‚ç«¯å£
uv run app.py --dashboard --port 8080

# é–‹ç™¼æ¨¡å¼
uv run app.py --dashboard --dev

# æŸ¥çœ‹å¹«åŠ©
uv run app.py --help
```

**åƒæ•¸èªªæ˜**:
- `--dashboard, -d`: å•Ÿå‹• Web Dashboard
- `--host HOST`: Dashboard ç›£è½åœ°å€ï¼ˆé»˜èªï¼š0.0.0.0ï¼‰
- `--port, -p PORT`: Dashboard ç«¯å£ï¼ˆé»˜èªï¼š5000ï¼‰
- `--dev`: é–‹ç™¼æ¨¡å¼ï¼ˆå•Ÿç”¨ Vite HMRï¼‰

---

### 3. pyproject.toml æ›´æ–°

**æ–°å¢è…³æœ¬å‘½ä»¤**:

```toml
[project.scripts]
ani-gamer-next = "ani_gamer_next:main"        # åŸæœ‰å‘½ä»¤
ani-gamer-app = "app:main"                     # æ–°ï¼šä¸»å…¥å£
build-dashboard = "scripts.build_dashboard:build_dashboard"  # æ–°ï¼šæ§‹å»ºå‘½ä»¤
```

**ä½¿ç”¨æ•ˆæœ**:

```bash
# ä¸‰ç¨®ç­‰åƒ¹æ–¹å¼å•Ÿå‹• Dashboard
uv run app.py --dashboard
uv run ani-gamer-app --dashboard
uv run python app.py --dashboard

# å…©ç¨®ç­‰åƒ¹æ–¹å¼æ§‹å»º
uv run build-dashboard
uv run python scripts/build_dashboard.py
```

---

## ğŸ“ ç›®éŒ„çµæ§‹èª¿æ•´

### æ–°å¢ç›®éŒ„å’Œæ–‡ä»¶

```
aniGamerPlus/
â”œâ”€â”€ scripts/                    â† æ–°å¢ï¼šå·¥å…·è…³æœ¬ç›®éŒ„
â”‚   â”œâ”€â”€ __init__.py            â† æ–°å¢ï¼šæ¨¡çµ„åˆå§‹åŒ–
â”‚   â””â”€â”€ build_dashboard.py     â† æ–°å¢ï¼šæ§‹å»ºè…³æœ¬
â”œâ”€â”€ app.py                      â† æ–°å¢ï¼šä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ USAGE_GUIDE.md              â† æ–°å¢ï¼šå®Œæ•´ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ COMMANDS.md                 â† æ–°å¢ï¼šå‘½ä»¤é€ŸæŸ¥è¡¨
â””â”€â”€ IMPLEMENTATION_SUMMARY.md   â† æœ¬æ–‡ä»¶
```

### ä¿ç•™çš„åŸæœ‰æ–‡ä»¶

```
aniGamerPlus/
â”œâ”€â”€ ani_gamer_next.py          â† ä¿ç•™ï¼šåŸä¸‹è¼‰å™¨å…¥å£
â”œâ”€â”€ anime.py                    â† ä¿ç•™ï¼šå‹•ç•«è™•ç†é‚è¼¯
â”œâ”€â”€ config.py                   â† ä¿ç•™ï¼šé…ç½®ç®¡ç†
â”œâ”€â”€ dashboard/                  â† ä¿ç•™ï¼šDashboard ç›®éŒ„
â”‚   â”œâ”€â”€ server.py              â† ä¿ç•™ï¼šå¾Œç«¯ä¼ºæœå™¨
â”‚   â”œâ”€â”€ src/                   â† ä¿ç•™ï¼šå‰ç«¯æºä»£ç¢¼
â”‚   â””â”€â”€ static/                â† ä¿ç•™ï¼šéœæ…‹è³‡æº
â””â”€â”€ pyproject.toml              â† æ›´æ–°ï¼šæ·»åŠ æ–°å‘½ä»¤
```

---

## ğŸ¯ è¨­è¨ˆæ±ºç­–

### ç‚ºä½•é¸æ“‡ `app.py` ä½œç‚ºä¸»å…¥å£ï¼Ÿ

1. **å‘ä¸‹ç›¸å®¹**: ä¿ç•™åŸæœ‰çš„ `ani_gamer_next.py`ï¼Œä¸å½±éŸ¿ç¾æœ‰ç”¨æˆ¶
2. **çµ±ä¸€ä»‹é¢**: ä¸€å€‹å…¥å£ç®¡ç†æ‰€æœ‰åŠŸèƒ½ï¼ˆä¸‹è¼‰å™¨ + Dashboardï¼‰
3. **ç°¡æ½”å‘½å**: `app.py` æ¯” `ani_gamer_next.py` æ›´ç°¡çŸ­æ˜“è¨˜
4. **éˆæ´»æ“´å±•**: æœªä¾†å¯è¼•é¬†æ·»åŠ æ–°åŠŸèƒ½ï¼ˆå¦‚ CLI å·¥å…·ã€é…ç½®å‘å°ç­‰ï¼‰

### ç‚ºä½•å‰µå»º `scripts/` ç›®éŒ„ï¼Ÿ

1. **çµ„ç¹”æ¸…æ™°**: å°‡å·¥å…·è…³æœ¬èˆ‡æ ¸å¿ƒä»£ç¢¼åˆ†é›¢
2. **æ˜“æ–¼ç¶­è­·**: æ–¹ä¾¿æ·»åŠ æ›´å¤šå·¥å…·è…³æœ¬ï¼ˆå¦‚è³‡æ–™åº«é·ç§»ã€åˆå§‹åŒ–è…³æœ¬ç­‰ï¼‰
3. **æ¨™æº–å¯¦è¸**: ç¬¦åˆ Python é …ç›®çš„å¸¸è¦‹ç›®éŒ„çµæ§‹

### ç‚ºä½•ä½¿ç”¨ `uv run` è€Œä¸æ˜¯ç›´æ¥ `python`ï¼Ÿ

1. **ä¾è³´ç®¡ç†**: `uv run` è‡ªå‹•ç®¡ç†è™›æ“¬ç’°å¢ƒå’Œä¾è³´
2. **è·¨å¹³å°**: ç„¡éœ€æ‰‹å‹•æ¿€æ´»è™›æ“¬ç’°å¢ƒï¼ˆWindows/Linux/macOS çµ±ä¸€ï¼‰
3. **ç¾ä»£åŒ–**: uv æ˜¯ç¾ä»£ Python åŒ…ç®¡ç†å™¨ï¼Œé€Ÿåº¦å¿«ã€åŠŸèƒ½å¼·
4. **ä¸€è‡´æ€§**: èˆ‡é …ç›®ç¾æœ‰çš„ uv ç”Ÿæ…‹ç³»çµ±ä¿æŒä¸€è‡´

---

## ğŸ”„ ä½¿ç”¨æµç¨‹

### é¦–æ¬¡ä½¿ç”¨

```bash
# 1. å®‰è£ä¾è³´ï¼ˆuv æœƒè‡ªå‹•è™•ç†ï¼‰
uv sync

# 2. è¤‡è£½é…ç½®æ–‡ä»¶
cp config-sample.toml config.toml

# 3. ç·¨è¼¯é…ç½®
vim config.toml

# 4. æ§‹å»º Dashboard
uv run build-dashboard

# 5. å•Ÿå‹• Dashboard
uv run app.py --dashboard
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# é‹è¡Œä¸‹è¼‰å™¨
uv run app.py

# æˆ–å•Ÿå‹• Dashboard
uv run app.py --dashboard
```

### é–‹ç™¼ Dashboard å‰ç«¯

```bash
# çµ‚ç«¯ 1: Vite é–‹ç™¼ä¼ºæœå™¨
cd dashboard
npm run dev

# çµ‚ç«¯ 2: å¾Œç«¯ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰
uv run app.py --dashboard --dev
```

---

## ğŸ“Š èˆ‡åŸæœ‰æ–¹å¼çš„å°æ¯”

### æ§‹å»º Dashboard

**ä¹‹å‰**:
```bash
cd dashboard
npm install
npm run build
cd ..
```

**ç¾åœ¨**:
```bash
uv run build-dashboard
```

### å•Ÿå‹• Dashboard

**ä¹‹å‰**:
```bash
python -m uvicorn dashboard.server:app --port 5000
```

**ç¾åœ¨**:
```bash
uv run app.py --dashboard
```

### é‹è¡Œä¸‹è¼‰å™¨

**ä¹‹å‰**:
```bash
python ani_gamer_next.py
```

**ç¾åœ¨**:
```bash
uv run app.py
# æˆ–ä¿æŒåŸæœ‰æ–¹å¼
uv run python ani_gamer_next.py
```

---

## âœ¨ å„ªå‹¢ç¸½çµ

1. **æ›´ç°¡æ½”**: ä¸€æ¢å‘½ä»¤å®Œæˆæ§‹å»ºå’Œå•Ÿå‹•
2. **æ›´çµ±ä¸€**: æ‰€æœ‰åŠŸèƒ½é€šé `app.py` çµ±ä¸€ç®¡ç†
3. **æ›´å®‰å…¨**: è‡ªå‹•æª¢æŸ¥ä¾è³´å’ŒéŒ¯èª¤è™•ç†
4. **æ›´éˆæ´»**: æ”¯æ´å¤šç¨®ä½¿ç”¨å ´æ™¯ï¼ˆç”Ÿç”¢/é–‹ç™¼ï¼‰
5. **å‘ä¸‹ç›¸å®¹**: ä¿ç•™æ‰€æœ‰åŸæœ‰å‘½ä»¤å’ŒåŠŸèƒ½

---

## ğŸ“ å¾…å„ªåŒ–é …ç›®ï¼ˆå¯é¸ï¼‰

ä»¥ä¸‹æ˜¯æœªä¾†å¯ä»¥è€ƒæ…®çš„æ”¹é€²æ–¹å‘ï¼š

1. **æ·»åŠ é…ç½®å‘å°**: `uv run app.py --init` äº¤äº’å¼ç”Ÿæˆé…ç½®
2. **æ·»åŠ æ›´æ–°æª¢æŸ¥**: `uv run app.py --check-update`
3. **æ·»åŠ æ—¥èªŒç®¡ç†**: `uv run app.py --logs`
4. **Docker æ”¯æ´**: å‰µå»º Dockerfile å’Œ docker-compose.yml
5. **ç³»çµ±æœå‹™æ¨¡æ¿**: æä¾› systemd/supervisor é…ç½®ç¯„ä¾‹

---

## ğŸ‰ ç¸½çµ

æˆåŠŸå¯¦ç¾äº†ä»¥ä¸‹ç›®æ¨™ï¼š

âœ… `uv run build-dashboard` - è‡ªå‹•æ§‹å»º Dashboard å‰ç«¯
âœ… `uv run app.py` - çµ±ä¸€ä¸»å…¥å£ï¼Œæ›¿ä»£ `ani_gamer_next.py`
âœ… ä¿æŒå‘ä¸‹ç›¸å®¹ï¼ŒåŸæœ‰å‘½ä»¤ä»å¯ä½¿ç”¨
âœ… å®Œæ•´çš„æ–‡æª”å’Œä½¿ç”¨æŒ‡å—
âœ… æ¸…æ™°çš„ç›®éŒ„çµæ§‹å’Œçµ„ç¹”

æ‰€æœ‰åŠŸèƒ½å·²å¯¦ç¾ä¸¦æ¸¬è©¦é€šéï¼ğŸš€
